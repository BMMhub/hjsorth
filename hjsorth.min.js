var forth=function(){var e=[{name:"!",interpret:function(e){var t=e.stack.pop(),n=e.stack.pop();e.forth.heap[t]=n}},{name:"'",interpret:function(e){var t=e.nextWordOrFail(),n=e.forth.dictionary.findOrFail(t);e.stack.push(n.interpret)},compile:function(e){var t=e.nextWordOrFail();e.definitions.peek().code.push(function(e){var n=e.forth.dictionary.findOrFail(t);e.stack.push(n.interpret)})}},{name:"(",immediate:!0,interpret:function(e){e.readUntil(")")}},{name:"*",interpret:function(e){var t=e.stack.pop(),n=e.stack.pop();e.stack.push(n*t)}},{name:"*/",interpret:function(e){var t=e.stack.pop(),n=e.stack.pop(),r=e.stack.pop();e.stack.push(Math.floor(r*n/t))}},{name:"*/MOD",interpret:function(e){var t=e.stack.pop(),n=e.stack.pop(),r=e.stack.pop(),i=r*n;e.stack.push(i%t,Math.floor(i/t))}},{name:"+",interpret:function(e){var t=e.stack.pop(),n=e.stack.pop();e.stack.push(n+t)}},{name:"+!",interpret:function(e){var t=e.stack.pop(),n=e.stack.pop();e.forth.heap[t]+=n}},{name:"+LOOP",compile:function(e){var t=e.definitions.pop().code;--e.compile;while(e.cstack.data[e.cstack.data.length-1]<e.cstack.data[e.cstack.data.length-2]){for(var n=0;n<t.length;++n){var r=t[n];typeof r=="function"?r(e):e.stack.push(r)}e.cstack.data[e.cstack.data.length-1]+=e.stack.pop()}e.cstack.pop(),e.cstack.pop()}},{name:",",interpret:function(e){var t=e.stack.pop();e.forth.heap[e.forth.heapNext++]=t}},{name:"-",interpret:function(e){var t=e.stack.pop(),n=e.stack.pop();e.stack.push(n-t)}},{name:".",interpret:function(e){e.forth.output(e.stack.pop().toString(e.base))}},{name:'."',interpret:function(e){e.forth.output(e.readUntil('"'))},compile:function(e){var t=e.readUntil('"');e.definitions.peek().code.push(function(e){e.forth.output(t)})}},{name:"/",interpret:function(e){var t=e.stack.pop(),n=e.stack.pop();e.stack.push(Math.floor(n/t))}},{name:"/MOD",interpret:function(e){var t=e.stack.pop(),n=e.stack.pop();e.stack.push(n%t,Math.floor(n/t))}},{name:"0<",interpret:function(e){e.stack.push(e.stack.pop()<0?1:0)}},{name:"0=",interpret:function(e){e.stack.push(e.stack.pop()==0?1:0)}},{name:"1+",interpret:function(e){e.stack.push(e.stack.pop()+1)}},{name:"1-",interpret:function(e){e.stack.push(e.stack.pop()-1)}},{name:"2!",interpret:function(e){var t=e.stack.pop(),n=e.stack.pop(),r=e.stack.pop();e.forth.heap[t]=n,e.forth.heap[t+1]=r}},{name:"2*",interpret:function(e){e.stack.push(e.stack.pop()*2)}},{name:"2/",interpret:function(e){e.stack.push(e.stack.pop()/2)}},{name:"2@",interpret:function(e){var t=e.stack.pop();e.stack.push(e.forth.heap[t+1],e.forth.heap[t])}},{name:"2DROP",interpret:function(e){e.stack.pop(),e.stack.pop()}},{name:"2DUP",interpret:function(e){var t=e.stack.pop(),n=e.stack.pop();e.stack.push(n,t,n,t)}},{name:"2OVER",interpret:function(e){var t=e.stack.pop(),n=e.stack.pop(),r=e.stack.pop(),i=e.stack.pop();e.stack.push(i,r,n,t,i,r)}},{name:"2SWAP",interpret:function(e){var t=e.stack.pop(),n=e.stack.pop(),r=e.stack.pop(),i=e.stack.pop();e.stack.push(n,t,i,r)}},{name:":",interpret:function(e){var t=e.nextWordOrFail();e.definitions.push({name:t,code:[]}),++e.compile},compile:function(e){var t=e.nextWordOrFail();e.definitions.peek().code.push(function(e){e.definitions.push({name:t,code:[]}),++e.compile})}},{name:";",compile:function(e){var t=e.definitions.pop(),n=t.code,r=function(e){for(var t=0;t<n.length;++t){var r=n[t];typeof r=="function"?r(e):e.stack.push(r)}};--e.compile,"name"in t?(t.interpret=r,e.forth.dictionary.push(t)):e.compile?e.definitions.peek().code.push(function(e){e.stack.push(r)}):e.stack.push(r)}},{name:"<",interpret:function(e){var t=e.stack.pop(),n=e.stack.pop();e.stack.push(n<t?1:0)}},{name:"=",interpret:function(e){var t=e.stack.pop(),n=e.stack.pop();e.stack.push(n==t?1:0)}},{name:">",interpret:function(e){var t=e.stack.pop(),n=e.stack.pop();e.stack.push(n>t?1:0)}},{name:">BODY",interpret:function(e){var t=e.stack.pop();if(typeof t!="function")throw"not an execution token";for(var n=0;n<e.forth.heap.length;++n)if(e.forth.heap[n]===t){e.stack.push(n);return}throw"not an execution token defined with CREATE"}},{name:">R",interpret:function(e){e.rstack.push(e.stack.pop())}},{name:"?DUP",interpret:function(e){var t=e.stack.peek();t!=0&&e.stack.push(t)}},{name:"@",interpret:function(e){var t=e.stack.pop();e.stack.push(e.forth.heap[t])}},{name:"ABS",interpret:function(e){e.stack.pushUnsigned(e.stack.pop())}},{name:"ALLOT",interpret:function(e){var t=e.stack.pop();if(t<0){t=-t;for(var n=0;n<t;++n)e.forth.heap.pop();e.forth.heapNext-=t}else if(t>0){for(var n=0;n<t;++n)e.forth.heap.push(0);e.forth.heapNext+=t}}},{name:"AND",interpret:function(e){var t=e.stack.pop(),n=e.stack.pop();e.stack.push(n&t)}},{name:"BL",interpret:function(e){e.stack.push(32)}},{name:"C!",interpret:function(e){var t=e.stack.pop(),n=e.stack.pop();e.forth.heap[t]=String.fromCharCode(n)}},{name:"C,",interpret:function(e){var t=e.stack.pop();e.forth.heap.push(String.fromCharCode(t)),++e.forth.heapNext}},{name:"C@",interpret:function(e){var t=e.stack.pop();e.stack.push(e.forth.heap[t].charCodeAt(0))}},{name:"CELL+",interpret:function(e){e.stack.push(e.stack.pop()+1)}},{name:"CELLS",interpret:function(e){}},{name:"CHAR",interpret:function(e){var t=e.nextWordOrFail();e.stack.push(t.charCodeAt(0))},compile:function(e){var t=e.nextWordOrFail();e.definitions.peek().code.push(function(e){e.stack.push(t.charCodeAt(0))})}},{name:"CHAR+",interpret:function(e){e.stack.push(e.stack.pop()+1)}},{name:"CHARS",interpret:function(e){}},{name:"CONSTANT",interpret:function(e){var t=e.nextWordOrFail(),n=e.stack.pop();e.forth.dictionary.push({name:t,interpret:function(e){e.stack.push(n)}})},compile:function(e){var t=e.nextWordOrFail();e.definitions.peek().code.push(function(e){var n=e.stack.pop();e.forth.dictionary.push({name:t,interpret:function(e){e.stack.push(n)}})})}},{name:"COUNT",interpret:function(e){var t=e.stack.pop();e.stack.push(t+1,e.forth.heap[t])}},{name:"CR",interpret:function(e){e.forth.output("\n")}},{name:"CREATE",interpret:function(e){var t=e.nextWordOrFail(),n=e.forth.heap.length-1;e.forth.dictionary.push({name:t,interpret:function(e){e.stack.push(n)}})},compile:function(e){var t=e.nextWordOrFail();e.definitions.peek().code.push(function(e){var n=e.forth.heap.length-1;e.forth.dictionary.push({name:t,interpret:function(e){e.stack.push(n)}})})}},{name:"DECIMAL",interpret:function(e){e.base=10}},{name:"DEPTH",interpret:function(e){e.stack.push(e.stack.depth())}},{name:"DO",interpret:function(e){var t=e.stack.pop(),n=e.stack.pop();e.cstack.push(n,t),++e.compile,e.definitions.push({code:[]})}},{name:"DROP",interpret:function(e){e.stack.pop()}},{name:"DUP",interpret:function(e){e.stack.push(e.stack.peek())}},{name:"ELSE",compile:function(e){var t=e.definitions.pop().code;e.definitions.push({code:[]});if(e.compile>1)e.definitions.data[e.definitions.data.length-2].code.push(function(e){if(e.stack.pop()!=0){for(var n=0;n<t.length;++n){var r=t[n];typeof r=="function"?r(e):e.stack.push(r)}e.stack.push(0)}else e.stack.push(1)});else if(e.stack.pop()!=0){for(var n=0;n<t.length;++n){var r=t[n];typeof r=="function"?r(e):e.stack.push(r)}e.stack.push(0)}else e.stack.push(1)}},{name:"EMIT",interpret:function(e){e.forth.output(String.fromCharCode(e.stack.pop()))}},{name:"EXECUTE",interpret:function(e){e.stack.pop().interpret(e)}},{name:"FILL",interpret:function(e){var t=String.fromCharCode(e.stack.pop()),n=e.stack.popUnsigned(),r=e.stack.pop();for(var i=r;i<r+n;++i)e.forth.heap[i]=t}},{name:"FIND",interpret:function(e){var t=e.stack.pop(),n=e.forth.heap.slice(t+1,t+1+e.forth.heap[t]).join(""),r=e.forth.dictionary.find(n);r?e.stack.push(r.interpret,r.immediate?1:-1):e.stack.push(t,0)}},{name:"FM/MOD",interpret:function(e){var t=stack.context.pop(),n=stack.context.pop();e.stack.push(n%t,Math.floor(n/t))}},{name:"HERE",interpret:function(e){e.stack.push(e.forth.heap.length)}},{name:"I",interpret:function(e){e.stack.push(e.cstack.peek())}},{name:"IF",interpret:function(e){e.cstack.push(e.stack.pop()),e.definitions.push({code:[]}),++e.compile},compile:function(e){e.definitions.push({code:[]}),++e.compile}},{name:"IMMEDIATE",interpret:function(e){if(!("name"in e.forth.dictionary.tail))throw"word does not have a name";e.forth.dictionary.tail.immediate=!0}},{name:"INVERT",interpret:function(e){e.stack.push(~e.stack.pop())}},{name:"LITERAL",compile:function(e){var t=e.stack.pop();e.definitions.peek().code.push(function(e){e.stack.push(t)})}},{name:"LOOP",compile:function(e){var t=e.definitions.pop().code;--e.compile;while(e.cstack.data[e.cstack.data.length-1]<e.cstack.data[e.cstack.data.length-2]){for(var n=0;n<t.length;++n){var r=t[n];typeof r=="function"?r(e):e.stack.push(r)}e.cstack.data[e.cstack.data.length-1]++}e.cstack.pop(),e.cstack.pop()}},{name:"LSHIFT",interpret:function(e){var t=e.stack.popUnsigned(),n=e.stack.pop();e.stack.push(n<<t)}},{name:"M*",interpret:function(e){var t=e.stack.pop(),n=e.stack.pop();e.stack.push(n*t)}},{name:"MAX",interpret:function(e){var t=e.stack.pop(),n=e.stack.pop();e.stack.push(n>t?n:t)}},{name:"MIN",interpret:function(e){var t=e.stack.pop(),n=e.stack.pop();e.stack.push(n<t?n:t)}},{name:"MOD",interpret:function(e){var t=e.stack.pop(),n=e.stack.pop();e.stack.push(n%t)}},{name:"MOVE",interpret:function(e){var t=e.stack.popUnsigned(),n=e.stack.pop(),r=e.stack.pop();for(var i=0;i<t;++i)e.forth.heap[n+t]=e.forth.heap[r+t]}},{name:"NEGATE",interpret:function(e){e.stack.push(-e.stack.pop())}},{name:"OR",interpret:function(e){var t=e.stack.pop(),n=e.stack.pop();e.stack.push(n|t)}},{name:"OVER",interpret:function(e){var t=e.stack.pop(),n=e.stack.pop();e.stack.push(n,t,n)}},{name:"POSTPONE",compile:function(e){var t=e.nextWordOrFail(),n=e.forth.dictionary.findOrFail(t);e.definitions.peek().code.push(n.compile?n.compile:n.interpret)}},{name:"QUIT",interpret:function(e){e.rstack.clear()}},{name:"R>",interpret:function(e){e.stack.push(e.rstack.pop())}},{name:"R@",interpret:function(e){e.stack.push(e.rstack.peek())}},{name:"RECURSE",compile:function(e){var t=e.definitions.peek();Array.prototype.push.apply(t,t)}},{name:"ROT",interpret:function(e){var t=e.stack.pop(),n=e.stack.pop(),r=e.stack.pop();e.stack.push(n,t,r)}},{name:"RSHIFT",interpret:function(e){var t=e.stack.popUnsigned(),n=e.stack.pop();e.stack.push(n>>t)}},{name:'S"',interpret:function(e){var t=e.readUntil('"');e.stack.push(e.forth.heap.length,t.length),e.forth.heap.push(t.length);for(var n=0;n<t.length;++n)e.forth.heap.push(t[n])},compile:function(e){var t=e.readUntil('"');e.definitions.peek().code.push(function(e){e.stack.push(e.forth.heap.length,t.length),e.forth.heap.push(t.length);for(var n=0;n<t.length;++n)e.forth.heap.push(t[n])})}},{name:"S>D",interpret:function(e){}},{name:"SPACE",interpret:function(e){e.forth.output(" ")}},{name:"SPACES",interpret:function(e){var t=e.stack.pop(),n="";for(var r=0;r<t;++r)n+=" ";n.length>0&&e.forth.output(n)}},{name:"SWAP",interpret:function(e){var t=e.stack.pop(),n=e.stack.pop();e.stack.push(t,n)}},{name:"THEN",compile:function(e){var t=e.definitions.pop().code;if(--e.compile)e.definitions.peek().code.push(function(e){if(e.stack.pop()!=0)for(var n=0;n<t.length;++n){var r=t[n];typeof r=="function"?r(e):e.stack.push(r)}});else if(e.cstack.pop()!=0)for(var n=0;n<t.length;++n){var r=t[n];typeof r=="function"?r(e):e.stack.push(r)}}},{name:"TYPE",interpret:function(e){var t=e.stack.popUnsigned(),n=e.stack.pop();t>0&&e.forth.output(e.forth.heap.slice(n+1,n+t+1).join(""))}},{name:"U.",interpret:function(e){var t=e.stack.popUnsigned();e.forth.output(t.toString(e.base))}},{name:"U<",interpret:function(e){var t=e.stack.popUnsigned(),n=e.stack.popUnsigned();e.stack.push(n<t?1:0)}},{name:"UM*",interpret:function(e){var t=e.stack.popUnsigned(),n=e.stack.popUnsigned();e.stack.pushUnsigned(n*t)}},{name:"UM/MOD",interpret:function(e){var t=e.stack.popUnsigned(),n=e.stack.popUnsigned();e.stack.pushUnsigned(n%t,n/t)}},{name:"VARIABLE",interpret:function(e){var t=e.nextWordOrFail(),n=e.forth.heap.length;e.forth.heap.push(0),e.stack.push(n)},compile:function(e){var t=e.nextWordOrFail();e.definitions.peek().code.push(function(e){var t=e.forth.heap.length;e.forth.heap.push(0),e.stack.push(t)})}},{name:"XOR",interpret:function(e){var t=e.stack.pop(),n=e.stack.pop();e.stack.push(n^t)}},{name:"[",immediate:!0,interpret:function(e){--e.compile}},{name:"[']",compile:function(e){var t=e.nextWordOrFail(),n=e.forth.dictionary.findOrFail(t);e.definitions.peek().code.push(function(e){e.stack.push(n.interpret)})}},{name:"[CHAR]",compile:function(e){var t=e.nextWordOrFail();e.definitions.peek().code.push(function(e){e.stack.push(t.charCodeAt(0))})}},{name:"]",interpret:function(e){++e.compile}},{name:".(",immediate:!0,interpret:function(e){e.forth.output(e.readUntil(")"))}},{name:".R",interpret:function(e){var t=e.stack.pop(),n=e.stack.pop(),r=n.toString(e.base);if(r.length<t)for(var i=0;i<r.length-t;++i)r=" "+r;e.forth.output(r)}},{name:"0<>",interpret:function(e){e.stack.push(e.stack.pop()!=0?1:0)}},{name:"0>",interpret:function(e){e.stack.push(e.stack.pop()>0?1:0)}},{name:"2>R",interpret:function(e){var t=e.stack.pop(),n=e.stack.pop();e.rstack.push(n,t)}},{name:"2R>",interpret:function(e){var t=e.rstack.pop(),n=e.rstack.pop();e.stack.push(n,t)}},{name:"2R@",interpret:function(e){var t=e.rstack.pop(),n=e.rstack.pop();e.stack.push(n,t),e.rstack.push(n,t)}},{name:":NONAME",interpret:function(e){e.definitions.push({code:[]}),++e.compile}},{name:"<>",interpret:function(e){var t=e.stack.pop(),n=e.stack.pop();e.stack.push(n!=t?1:0)}},{name:'C"',interpret:function(e){var t=e.readUntil('"'),n=e.forth.heap.length;e.forth.heap.push(t.length);for(var r=0;r<t.length;++r)e.forth.heap.push(t[r]);e.stack.push(n)},compile:function(e){var t=e.readUntil('"');e.definitions.peek().code.push(function(e){var n=e.forth.heap.length;e.forth.heap.push(t.length);for(var r=0;r<t.length;++r)e.forth.heap.push(t[r]);e.stack.push(n)})}},{name:"COMPILE,",compile:function(e){e.definitions.peek().code.push(e.stack.pop())}},{name:"ERASE",interpret:function(e){var t=e.stack.popUnsigned(),n=e.stack.pop();for(var r=0;r<t;++r)e.forth.heap[n+t]=0}},{name:"FALSE",interpret:function(e){e.stack.push(0)}},{name:"HEX",interpret:function(e){e.base=16}},{name:"NIP",interpret:function(e){var t=e.stack.pop(),n=e.stack.pop();e.stack.push(t)}},{name:"PARSE",interpret:function(e){var t=String.fromCharCode(e.stack.pop()),n=e.readUntil(t);e.stack.push(e.forth.heap.length),e.forth.heap.push(n.length);for(var r=0;r<n.length;++r)e.forth.heap.push(n[r])}},{name:"PICK",interpret:function(e){var t=e.stack.popUnsigned();e.stack.push(e.stack.data[e.data.length-t])}},{name:"TO",interpret:function(e){var t=e.nextWordOrFail(),n=e.forth.dictionary.findOrFail(t),r=e.stack.pop();if(!n||!n.value)throw"word not defined by VALUE";n.interpret=function(e){e.stack.push(r)}},compile:function(e){var t=e.nextWordOrFail();e.definitions.peek().code.push(function(e){var n=e.forth.dictionary.findOrFail(t),r=e.stack.pop();if(!n||!n.value)throw"word not defined by VALUE";n.interpret=function(e){e.stack.push(r)}})}},{name:"TRUE",interpret:function(e){e.stack.push(1)}},{name:"TUCK",interpret:function(e){var t=e.stack.pop(),n=e.stack.pop();e.stack.push(t,n,t)}},{name:"U.R",interpret:function(e){var t=e.stack.pop(),n=e.stack.popUnsigned(),r=n.toString(e.base);if(r.length<t)for(var i=0;i<r.length-t;++i)r=" "+r;e.forth.output(r)}},{name:"U>",interpret:function(e){var t=e.stack.popUnsigned(),n=e.stack.popUnsigned();e.stack.push(n<t?1:0)}},{name:"UNUSED",interpret:function(e){e.stack.push(0)}},{name:"VALUE",interpret:function(e){var t=e.nextWordOrFail(),n=e.stack.pop();e.forth.dictionary.push({name:t,interpret:function(e){e.stack.push(n)}})},compile:function(e){var t=e.nextWordOrFail();e.definitions.peek().code.push(function(e){var n=e.stack.pop();e.forth.dictionary.push({name:t,interpret:function(e){e.stack.push(n)}})})}},{name:"[COMPILE]",compile:function(e){var t=e.nextWordOrFail(),n=e.forth.dictionary.findOrFail(t);e.definitions.peek().push(n.compile?n.compile:n.interpret)}},{name:"\\",immediate:!0,interpret:function(e){while(e.offset<e.source.length){var t=e.source[e.offset++];if(t=="\n"||t=="\r")return}}},{name:'JS-STRING"',interpret:function(e){var t=e.readUntil('"');e.stack.push(t)},compile:function(e){var t=e.readUntil('"');e.definitions.peek().code.push(function(e){e.stack.push(t)})}},{name:"JS-VARIABLE",interpret:function(e){var t=e.nextWordOrFail();e.stack.push(window[t])},compile:function(e){var t=e.nextWordOrFail();e.definitions.peek().code.push(function(e){e.stack.push(window[t])})}},{name:"JS-PROPERTY@",interpret:function(e){var t=e.nextWordOrFail(),n=e.stack.pop();e.stack.push(n[t])},compile:function(e){var t=e.nextWordOrFail(),n=e.stack.pop();e.definitions.peek().code.push(function(e){e.stack.push(n[t])})}},{name:"JS-PROPERTY!",interpret:function(e){var t=e.nextWordOrFail(),n=e.stack.pop(),r=e.stack.pop();n[t]=r},interpret:function(e){var t=e.nextWordOrFail();e.definitions.peek().code.push(function(e){var n=e.stack.pop(),r=e.stack.pop();n[t]=r})}},{name:"JS-CALL",interpret:function(e){var t=e.stack.pop(),n=e.stack.pop(),r=e.stack.popUnsigned(),i=[];for(var s=0;s<r;++s)i.unshift(e.stack.pop());e.stack.push(t.apply(n,i))}}],t=function(){this.data=[]};t.prototype.depth=function(){return this.data.length},t.prototype.peek=function(){return this.data[this.data.length-1]},t.prototype.push=function(){Array.prototype.push.apply(this.data,arguments)},t.prototype.pushUnsigned=function(){for(var e=0;e<arguments.length;++e){var t=arguments[e];this.data.push(t<0?-t:t)}},t.prototype.pop=function(){return this.data.pop()},t.prototype.popUnsigned=function(){var e=this.data.pop();return e<0&&(e=-e),e},t.prototype.clear=function(){this.data.length=0};var n=function(){this.words={}};n.prototype.find=function(e){return this.words[e]},n.prototype.findOrFail=function(e){var t=this.words[e];if(!t)throw"unrecognized word: "+e;return t},n.prototype.push=function(e){this.tail?(this.tail.next=e,e.prev=this.tail):this.head=e,this.tail=e,"name"in e&&(this.words[e.name]=e)};var r=function(e,n){this.forth=e,this.source=n,this.offset=0,this.stack=new t,this.rstack=new t,this.cstack=new t,this.definitions=new t,this.compile=0,this.base=10};r.prototype.nextWord=function(){var e=this.offset,t=this.offset;while(this.offset<this.source.length)if(/\s/.test(this.source[this.offset++])){if(t-e>0)return this.source.substring(e,t);e=t=this.offset}else++t;if(t-e>0)return this.source.substring(e,t)},r.prototype.nextWordOrFail=function(){var e=this.nextWord();if(!e)throw"missing word";return e},r.prototype.readUntil=function(e){var t=this.offset,n=this.offset;while(this.offset<this.source.length){if(this.source[this.offset++]===e)return n-t>0?this.source.substring(t,n):"";++n}throw"syntax error: missing "+e},r.prototype.interpret=function(){while(this.offset<this.source.length){var e=this.nextWord(),t;if(!e)return;if(t=this.forth.dictionary.find(e))!this.compile||t.immediate?t.interpret(this):t.compile?t.compile(this):this.definitions.peek().code.push(t.interpret);else{var n=parseInt(e,this.base);if(isNaN(n))throw"unrecognized word: "+e;this.compile?this.definitions.peek().code.push(n):this.stack.push(n)}}};var i=function(){this.heap=[],this.heapNext=-1,this.dictionary=new n;for(var t=0;t<e.length;++t)this.dictionary.push(e[t])};i.prototype.createContext=function(e){return new r(this,e)},i.prototype.eval=function(e){return this.createContext(e).interpret()},i.prototype.output=function(e){var t=e.split(/\r?\n/),n=this.outputLine;for(var r=0;r<t.length;++r)n||(this.outputLine=n=document.createElement("p"),n.setAttribute("class","forth-output"),document.body.appendChild(n)),n.textContent+=t[r];/\r?\n$/.test(e)&&(this.outputLine=null)},i.prototype.eval=function(e){return this.createContext(e).interpret()};var s=new i;return window.addEventListener("load",function(){var e=function(e){var t;if(window.XMLHttpRequest)t=new XMLHttpRequest;else{if(!window.ActiveXObject)return"";t=new ActiveXObject("Microsoft.XMLHTTP")}return t.open("GET",e,!1),t.overrideMimeType&&t.overrideMimeType("text/plain"),t.send(null),t.status==200?t.responseText:""},t=document.getElementsByTagName("script");for(var n=0;n<t.length;++n){var r=t[n];r.type=="application/forth"&&(r.src?s.eval(e(r.src)):s.eval(r.innerHTML))}}),s}();